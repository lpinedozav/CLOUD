@page
@model CLOUD.Pages.DevolverModel
@{
    ViewData["Title"] = "Devolver libro";
}

<main class="contenedor">
    <h2 class="titulo">📘 Devolver libro</h2>
    <form method="post" class="form-devolucion">
        <div class="campo-formulario">
            <label for="id_libro">Ingrese el ID del libro:</label>
            <input type="text" id="id_libro" name="IdLibro" value="@Model.IdLibro" required />
        </div>

        @if (!Model.MostrarResultado)
        {
            <button type="submit" name="accion" value="Verificar préstamo" class="boton-accion">Verificar préstamo</button>
        }
        else
        {
            <div id="resultado" class="info-prestamo">
                @if (!Model.PrestamoEncontrado)
                {
                    <p class="mensaje-error"><strong>@Model.Mensaje</strong></p>
                    <button type="submit" name="accion" value="Verificar préstamo" class="boton-accion">Verificar préstamo</button>
                }
                else
                {
                    <p><strong>📖 Libro:</strong> @Model.LibroNombre</p>
                    <p><strong>👤 Prestado a:</strong> @Model.UsuarioNombre</p>
                    <p><strong>📅 Fecha préstamo:</strong> @Model.FechaPrestamo?.ToString("yyyy-MM-dd")</p>
                    <p><strong>📅 Fecha devolución:</strong> @Model.FechaDevolucion?.ToString("yyyy-MM-dd")</p>
                    <button type="submit" name="accion" value="Confirmar devolución" class="boton-confirmar">Confirmar devolución</button>
                }
            </div>
        }
    </form>
</main>
